"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[16821],{76894:function(e,r,n){n.d(r,{L:function(){return t},Z:function(){return o}});var i=n(38398),t=e=>{var{urlParams:r={}}=e,n="/groups/".concat(r.groupId);return{url:n,formattedUrl:(0,i.format)({pathname:n})}},o=e=>{var{urlParams:r={}}=e,n="/groups/".concat(r.groupId,"/users");return{url:n,formattedUrl:(0,i.format)({pathname:n,query:{perPage:5e3}})}}},16821:function(e,r,n){n.r(r),n.d(r,{LoggedInUserTypeRedirect:function(){return _}});var i=n(57460),t=n(6692),o=n(956),a=n(47450),d=n(26481),l=n(82478),s=n(35780),u=n(32717),c=n(21805),f=n(70314),p=n.n(f),v=n(2784),{publicRuntimeConfig:{enterpriseBaseUrl:g,shutterstockBaseUrl:w}}=p()(),_=()=>{var e=(0,l.d)(),{isBrandEnterprise:r,isBrandSstk:n}=(0,d.D)(),f=(0,s.T)();return(0,v.useEffect)(()=>{var d,l,s,p,v,_,m,U;if(e&&!f&&(!n||e.isEnterpriseUser)&&(!r||!e.isEnterpriseUser)){if(n&&e.isEnterpriseUser){if(window.location.href.includes(w)){null===(p=window.NREUM)||void 0===p||null===(s=p.addPageAction)||void 0===s||s.call(p,"UP3-1623 assign enterprise url to href",(0,t._)((0,i._)({},window.location||{}),{enterpriseBaseUrl:g,isBrandEnterprise:r,isBrandSstk:n,isEnterpriseUser:e.isEnterpriseUser,shutterstockBaseUrl:w})),window.location.href=window.location.href.replace(w,g);return}null===(l=window.NREUM)||void 0===l||null===(d=l.addPageAction)||void 0===d||d.call(l,"UP3-1623 force the experience into enterprise by reload",(0,i._)((0,t._)((0,i._)({},window.location||{}),{isBrandEnterprise:r,isBrandSstk:n,isEnterpriseUser:e.isEnterpriseUser}),e)),c.Z.set(o.sG,o.Dx),(0,u.zg)("entCookieSet");return}if(r&&void 0!==e.userType&&!e.isEnterpriseUser){if(window.location.href.includes(g)){c.Z.remove(a.$p),null===(U=window.NREUM)||void 0===U||null===(m=U.addPageAction)||void 0===m||m.call(U,"UP3-1623 force the experience into enterprise by setting the href",(0,i._)((0,t._)((0,i._)({},window.location||{}),{isBrandSstk:n,isBrandEnterprise:r,isEnterpriseUser:e.isEnterpriseUser,enterpriseBaseUrl:g,shutterstockBaseUrl:w}),e)),window.location.href=window.location.href.replace(g,w);return}null===(_=window.NREUM)||void 0===_||null===(v=_.addPageAction)||void 0===v||v.call(_,"UP3-1623 force the experience into www by reload",(0,i._)((0,t._)((0,i._)({},window.location||{}),{isBrandSstk:n,isBrandEnterprise:r,isEnterpriseUser:e.isEnterpriseUser}),e)),c.Z.set(o.sG,o.IC),(0,u.zg)("sstkCookieSet")}console.log("UP3-1623 this is an unexpected scenario")}},[e,r,n,f]),null}},17175:function(e,r,n){n.d(r,{W:function(){return s}});var i=n(76894),t=n(26631),o=n(64787),a=n(75615),d=n(93346),l=n(3255),s=e=>{var{data:r,mutate:n}=(0,l.ZP)(e?(0,i.L)({urlParams:{groupId:e}}).formattedUrl:null,e=>o.mV.get(e)),s=(0,t.d)();return r&&!r.data&&s({actionName:"FREN-503 - useFetchOrganization meta error",customAttributes:{response:r,organizationId:e}}),{data:(null==r?void 0:r.data)?(0,d.Y)((0,a.O)(r.data)):void 0,mutate:n}}},95152:function(e,r,n){n.d(r,{B:function(){return f}});var i=n(57460),t=n(32212),o=n(56364),a=n(67449),d=n(20410),l=n(53076),s=n(64787),u=n(75615),c=n(3255),f=function(){var{queryParams:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{data:r}=(0,l.jy)(),n=(0,i._)({target:o.dlz,site_name:a.mC,setting_type:o.dlz},e);return(0,c.ZP)((null==r?void 0:r.id)&&(null==r?void 0:r.organizationId)&&(0,t.nI)({queryParams:n}).formattedUrl,e=>s.uS.get(e).then(e=>(0,u.O)(e.data)),{dedupingInterval:d.yR})}},82478:function(e,r,n){n.d(r,{d:function(){return w}});var i=n(57460),t=n(6692),o=n(2281),a=n(67449),d=n(95327),l=n(70314),s=n.n(l),u=n(17175),c=n(95152),f=n(53076),p=n(15750),v=/http.*.com/,{publicRuntimeConfig:{assets:{avatarThumbsUrl:g}}}=s()(),w=()=>{var e,{data:r,isLoading:n}=(0,f.jy)(),{data:l,mutate:s,isLoading:w}=(0,c.B)({queryParams:{site_name:a.HV}}),{data:_,isLoading:m,mutate:U}=(0,u.W)(null==r?void 0:r.organizationId),{data:h,isLoading:E}=(0,p.Z)(null==r?void 0:r.id);if(!(null==r?void 0:r.organizationId))return(0,t._)((0,i._)({},r),{userType:(null==r?void 0:r.id)?d.G4:void 0,isEnterpriseUser:!1,workspaces:h});if(n||m||E||w)return null;var P={},y={};if(r){var{roles:I}=r,N=(0,o._)(r,["roles"]);P=(0,i._)({},P,N)}if((null==r?void 0:r.id)&&(null==h?void 0:h.length)>=1){var b="".concat(null==r?void 0:r.id,"-").concat(null==r?void 0:r.organizationId);e=null==(y=h.find(e=>(null==e?void 0:e.id)===b))?void 0:y.type}if(_){var{id:k,displayName:z}=_,R=(0,o._)(_,["id","displayName"]);P=(0,t._)((0,i._)({},P,R),{teamName:z})}if(l){var{avatarOriginalUrl:Z,avatarThumbnailUrl:C}=l;P=(0,t._)((0,i._)({},P),{avatarThumbnailUrl:null==C?void 0:C.replace(v,g),avatarOriginalUrl:Z})}return(0,t._)((0,i._)({},P),{mutateOrgSettings:s,mutateTeamData:U,isEnterpriseUser:e===d.EJ,userType:e,workspaces:h,currentUserWorkspace:y})}},15750:function(e,r,n){n.d(r,{Z:function(){return s}});var i=n(57460),t=n(32212),o=n(35780),a=n(64787),d=n(75615),l=n(3255),s=e=>{var r=(0,o.T)(),n={urlParams:{id:e},queryParams:(0,i._)({},r&&{accept_invite:1})};return(0,l.ZP)(e?(0,t.Y2)(n).formattedUrl:null,e=>a.uS.get(e).then(e=>{var{data:r}=e;if(r)return(0,d.O)(r)}))}}}]);
//# sourceMappingURL=16821.0453117c7761ec64.js.map